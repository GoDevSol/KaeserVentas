(self.webpackChunkKaeser_Ventas=self.webpackChunkKaeser_Ventas||[]).push([[4164],{1855:(t,e,i)=>{"use strict";function o(t,e,i,o){return new(i||(i=Promise))(function(n,r){function s(t){try{d(o.next(t))}catch(e){r(e)}}function a(t){try{d(o.throw(t))}catch(e){r(e)}}function d(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(s,a)}d((o=o.apply(t,e||[])).next())})}i.d(e,{mG:()=>o})},7242:(t,e,i)=>{"use strict";i.d(e,{r:()=>a});var o=i(1855),n=i(7272),r=i(2604),s=i(4683);let a=(()=>{class t{constructor(t,e){this.storage=t,this.toastController=e,this.URL="https://godevsol.tech/kaeserVentas/api/req/"}getDBItem(t){return(0,o.mG)(this,void 0,void 0,function*(){this.storage.create();var e=yield this.storage.get(t);return null==e?[]:e})}setDBItem(t,e){return(0,o.mG)(this,void 0,void 0,function*(){yield this.storage.create(),yield this.storage.set(t,e)})}cleanDBItem(t){return(0,o.mG)(this,void 0,void 0,function*(){yield this.storage.create(),yield this.storage.remove(t)})}showToast(t,e){return(0,o.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({color:"dark",message:t,header:e,position:"top",duration:1500})).present()})}login(t){return(0,o.mG)(this,void 0,void 0,function*(){return yield this.resolverSolicitudParamsWithOutAData(this.URL+"login/login.php",t)})}getInfoUser(t){return(0,o.mG)(this,void 0,void 0,function*(){return yield this.resolverSolicitudParams(this.URL+"login/validate_token.php",t)})}getTiposEquipo(){return(0,o.mG)(this,void 0,void 0,function*(){return yield this.resolverSolicitud(this.URL+"TiposEquipo/read.php")})}getTipoEquipoById(t){return(0,o.mG)(this,void 0,void 0,function*(){return yield this.resolverSolicitudParamsReturnOne(this.URL+"TiposEquipo/readById.php",t)})}getModelosByTipoEquipo(t){return(0,o.mG)(this,void 0,void 0,function*(){return yield this.resolverSolicitudParams(this.URL+"Modelo/readByIdTipoEquipo.php",t)})}readCotizacionAll(){return(0,o.mG)(this,void 0,void 0,function*(){return yield this.resolverSolicitud(this.URL+"Cotizaciones/read.php")})}readCotizacion(t){return(0,o.mG)(this,void 0,void 0,function*(){return yield this.resolverSolicitudParams(this.URL+"Cotizaciones/readByEstado.php",t)})}saveCotizacion(t){return(0,o.mG)(this,void 0,void 0,function*(){return yield this.resolverSolicitudParamsWithOutAData(this.URL+"Cotizaciones/create.php",t)})}modificarCotizacion(t){return(0,o.mG)(this,void 0,void 0,function*(){return yield this.resolverSolicitudParams(this.URL+"Cotizaciones/updateById.php",t)})}modificarUsuario(t){return(0,o.mG)(this,void 0,void 0,function*(){var e=yield this.getDBItem("JWT"),i=Object.assign(Object.assign({},t),{jwt:e});return yield this.resolverSolicitudParams(this.URL+"user/updateUser.php",i)})}updatePassword(t){return(0,o.mG)(this,void 0,void 0,function*(){var e=yield this.getDBItem("JWT"),i=Object.assign(Object.assign({},t),{jwt:e});return yield this.resolverSolicitudParamsWithOutAData(this.URL+"user/updateUserPassword.php",i)})}loadFile(t){return(0,o.mG)(this,void 0,void 0,function*(){return yield this.resolverSolicitudSinJSON(this.URL+"upload.php",t)})}getFile(t){return(0,o.mG)(this,void 0,void 0,function*(){return yield this.resolverSolicitudParams(this.URL+"verificar.php",t)})}createPDF(t){return(0,o.mG)(this,void 0,void 0,function*(){return yield this.resolverSolicitudParamsWithOutParse(this.URL+"pdf/pdfCreation.php",t)})}sendMail(t){return(0,o.mG)(this,void 0,void 0,function*(){return yield this.resolverSolicitudParams(this.URL+"email/"+t.url,t)})}resolverSolicitud(t){return(0,o.mG)(this,void 0,void 0,function*(){var e=yield fetch(t),i=yield e.json();return 1==i.status?i.data:[]})}resolverSolicitudParams(t,e){return(0,o.mG)(this,void 0,void 0,function*(){var i=yield fetch(t,{method:"POST",body:JSON.stringify(e)});return(yield i.json()).data})}resolverSolicitudParamsReturnOne(t,e){return(0,o.mG)(this,void 0,void 0,function*(){var i=yield fetch(t,{method:"POST",body:JSON.stringify(e)});return(yield i.json()).data[0]})}resolverSolicitudParamsWithOutAData(t,e){return(0,o.mG)(this,void 0,void 0,function*(){var i=yield fetch(t,{method:"POST",body:JSON.stringify(e)});return yield i.json()})}resolverSolicitudSinJSON(t,e){return(0,o.mG)(this,void 0,void 0,function*(){var i=yield fetch(t,{method:"POST",body:e});return(yield i.json()).data})}resolverSolicitudParamsWithOutParse(t,e){return(0,o.mG)(this,void 0,void 0,function*(){var i=yield fetch(t,{method:"POST",body:JSON.stringify(e)}),o=yield i.text();window.open("").document.write("<iframe width='100%' height='100%' src='"+o+"'></iframe>")})}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(r.K),n.LFG(s.yF))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},4164:(t,e,i)=>{"use strict";i.r(e),i.d(e,{PostVentaPageModule:()=>T});var o=i(6274),n=i(4988),r=i(4683),s=i(4337),a=i(1855),d=i(7272),c=i(7242);function l(t,e){1&t&&d._UZ(0,"ion-icon",36)}function u(t,e){1&t&&d._UZ(0,"ion-icon",37)}function h(t,e){1&t&&d._UZ(0,"ion-icon",38)}function g(t,e){1&t&&(d.TgZ(0,"h6",39),d._uU(1,"POST VENTA"),d.qZA())}function p(t,e){1&t&&(d.TgZ(0,"h6",39),d._uU(1,"PENDIENTE"),d.qZA())}function m(t,e){1&t&&(d.TgZ(0,"h6",39),d._uU(1,"EJECUTADA"),d.qZA())}function v(t,e){if(1&t){const t=d.EpF();d.TgZ(0,"ion-item",28),d.TgZ(1,"ion-grid"),d.TgZ(2,"ion-row",29),d.NdJ("click",function(){const e=d.CHM(t).$implicit;return d.oxw().goToPostVenta(e.estado,e)}),d.TgZ(3,"ion-col",13),d.TgZ(4,"strong",4),d._uU(5," Cotizaci\xf2n "),d.qZA(),d.TgZ(6,"h6",30),d._uU(7,"30040101 - solicitud de cotizaci\xf3n - F\xe9nix Media - Air center sx3"),d.qZA(),d.qZA(),d.TgZ(8,"ion-col",31),d.NdJ("click",function(){const e=d.CHM(t).$implicit;return d.oxw().goToPostVenta(e.estado,e)}),d.YNc(9,l,1,0,"ion-icon",32),d.YNc(10,u,1,0,"ion-icon",33),d.YNc(11,h,1,0,"ion-icon",34),d.YNc(12,g,2,0,"h6",35),d.YNc(13,p,2,0,"h6",35),d.YNc(14,m,2,0,"h6",35),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&t){const t=e.$implicit;d.xp6(9),d.Q6J("ngIf",1==t.estado),d.xp6(1),d.Q6J("ngIf",2==t.estado),d.xp6(1),d.Q6J("ngIf",3==t.estado),d.xp6(1),d.Q6J("ngIf",1==t.estado),d.xp6(1),d.Q6J("ngIf",2==t.estado),d.xp6(1),d.Q6J("ngIf",3==t.estado)}}const f=[{path:"",component:(()=>{class t{constructor(t,e){this.navCtrl=t,this.api=e,this.modelos=[],this.modelosAll=[],this.estado=0,this.fecha=""}ngOnInit(){return(0,a.mG)(this,void 0,void 0,function*(){this.modelos=yield this.api.readCotizacionAll(),this.modelosAll=yield this.modelos.map(t=>(t.datosForm=JSON.parse(t.datosForm.replaceAll("&quot;",'"')),t.datosModelos=JSON.parse(t.datosModelos.replaceAll("&quot;",'"')),t))})}goTo(t){return(0,a.mG)(this,void 0,void 0,function*(){this.navCtrl.navigateBack("menu/"+t)})}createPDF(){return(0,a.mG)(this,void 0,void 0,function*(){console.log(this.api.createPDF({modelos:this.modelos,fecha:this.fecha,estado:this.estado}))})}onChange(t){if("ESTADO"==t.name)this.estado=t.value,this.modelos=0==t.value?this.modelosAll:this.modelosAll.filter(e=>e.estado==t.value);else{if(""==t.value)this.modelos=this.modelosAll;else{var e=new Date(t.value.replace(/-/g,"/"));this.fecha=e,this.modelos=this.modelosAll.filter(e=>{var i=new Date(e.date),o=new Date(t.value.replace(/-/g,"/"));if((i=i.getFullYear()+"/"+(i.getMonth()+1)+"/"+i.getDate())==(o=o.getFullYear()+"/"+(o.getMonth()+1)+"/"+o.getDate()))return!0})}console.log(this.modelosAll)}}goToPostVenta(t,e){return(0,a.mG)(this,void 0,void 0,function*(){yield this.api.setDBItem("postVenta",e),1==t&&this.navCtrl.navigateForward("menu/postVentaView"),2==t&&this.navCtrl.navigateForward("menu/solicitudesView"),3==t&&this.navCtrl.navigateForward("menu/ejecutado-view"),console.log(t),console.log(e)})}}return t.\u0275fac=function(e){return new(e||t)(d.Y36(r.SH),d.Y36(c.r))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-postVenta"]],decls:43,vars:3,consts:[[3,"translucent"],[2,"--background","none","border-bottom","#4C7176 solid","border-width","3px","border-top","solid 5px #4C7176"],["slot","start","src","assets/img/principal/logo.png",2,"height","50px","margin","5px"],["slot","end"],[2,"color","#4C7176"],[3,"fullscreen"],[2,"--background","none","border","none"],["src","assets/img/back.png",2,"height","25px","display","inline","width","20px","vertical-align","super",3,"click"],[2,"--border-radius","25px","--padding","0 25px","--background","#4C7176","height","25px","vertical-align","super",3,"click"],[2,"--background","#E6E7E7"],[2,"text-align","justify","line-height","1","font-size","14px"],[2,"background","black"],[2,"padding","0px"],[2,"text-align","left"],[1,"roundedInput"],["clearInput","true","name","ESTADO",3,"ionChange"],["value","0"],["value","1"],["value","2"],["value","3"],[2,"text-align","center"],["clearInput"," true","type","date","placeholder","Fecha de Solicitud","clearInput","true","name","DATE",3,"ionChange"],["style","--background: #E6E7E7; color:#59595C; border-bottom: dashed #4C7176 1px;",4,"ngFor","ngForOf"],[2,"text-align","-webkit-center"],[2,"--border-radius","25px","--padding","0 25px","--background","#4C7176",3,"click"],["text-center","","no-border","","transparent","",2,"background","white"],[2,"text-align","-webkit-center","border-top","2px solid #4C7176"],["src","assets/img/footer/footer.png",2,"width","225px"],[2,"--background","#E6E7E7","color","#59595C","border-bottom","dashed #4C7176 1px"],[2,"padding","0px",3,"click"],[2,"margin","0px"],["size","3",2,"text-align","center",3,"click"],["name","document-outline",4,"ngIf"],["name","timer-outline",4,"ngIf"],["name","checkmark-done-outline",4,"ngIf"],["style","margin: 0; font-size: 13px;",4,"ngIf"],["name","document-outline"],["name","timer-outline"],["name","checkmark-done-outline"],[2,"margin","0","font-size","13px"]],template:function(t,e){1&t&&(d.TgZ(0,"ion-header",0),d.TgZ(1,"ion-toolbar",1),d._UZ(2,"ion-img",2),d.TgZ(3,"ion-buttons",3),d._UZ(4,"ion-menu-button",4),d.qZA(),d.qZA(),d.qZA(),d.TgZ(5,"ion-content",5),d.TgZ(6,"ion-toolbar",6),d.TgZ(7,"div"),d.TgZ(8,"img",7),d.NdJ("click",function(){return e.goTo("historialMenu")}),d.qZA(),d.TgZ(9,"ion-button",8),d.NdJ("click",function(){return e.goTo("historialMenu")}),d._uU(10," SOLICITUDES"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(11,"ion-card",9),d.TgZ(12,"ion-card-content",10),d._uU(13," LISTADO DE SOLICITUDES "),d.qZA(),d._UZ(14,"hr",11),d.TgZ(15,"ion-grid"),d.TgZ(16,"ion-row",12),d.TgZ(17,"ion-col",13),d.TgZ(18,"ion-item",14),d.TgZ(19,"ion-label"),d._uU(20,"ESTADO"),d.qZA(),d.TgZ(21,"ion-select",15),d.NdJ("ionChange",function(t){return e.onChange(t.target)}),d.TgZ(22,"ion-select-option",16),d._uU(23,"TODOS"),d.qZA(),d.TgZ(24,"ion-select-option",17),d._uU(25,"POST VENTA"),d.qZA(),d.TgZ(26,"ion-select-option",18),d._uU(27,"PENDIENTE"),d.qZA(),d.TgZ(28,"ion-select-option",19),d._uU(29,"EJECUTADA"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(30,"ion-col",20),d.TgZ(31,"ion-item",14),d.TgZ(32,"ion-input",21),d.NdJ("ionChange",function(t){return e.onChange(t.target)}),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d._UZ(33,"hr",11),d.YNc(34,v,15,6,"ion-item",22),d.TgZ(35,"div",23),d.TgZ(36,"ion-button",24),d.NdJ("click",function(){return e.goTo("historialMenu")}),d._uU(37," REGRESAR"),d.qZA(),d.TgZ(38,"ion-button",24),d.NdJ("click",function(){return e.createPDF()}),d._uU(39," CREAR PDF"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(40,"ion-footer",25),d.TgZ(41,"div",26),d._UZ(42,"ion-img",27),d.qZA(),d.qZA()),2&t&&(d.Q6J("translucent",!0),d.xp6(5),d.Q6J("fullscreen",!0),d.xp6(29),d.Q6J("ngForOf",e.modelos))},directives:[r.Gu,r.sr,r.Xz,r.Sm,r.fG,r.W2,r.YG,r.PM,r.FN,r.jY,r.Nd,r.wI,r.Ie,r.Q$,r.t9,r.QI,r.n0,r.pK,r.j9,o.sg,r.fr,o.O5,r.gu],styles:["ion-content[_ngcontent-%COMP%]{--background:url(/assets/img/login/background.png) no-repeat center center/cover}.roundedInput[_ngcontent-%COMP%]{--border-color:var(--ion-color-medium-shade);--background:#e6e7e7;margin-top:5px;padding:0 15px;font-size:14px;--border-radius:15px;--border-width:1px;--box-shadow:5px #fff;--color:#000;--highlight-height:0}.roundedInput.ion-invalid.item-has-focus[_ngcontent-%COMP%]{--border-color:var(--ion-color-danger-shade)}.roundedInput.ion-valid.item-has-focus[_ngcontent-%COMP%]{--border-color:var(--ion-color-success-shade)}.roundedInput.ion-invalid.ion-dirty[_ngcontent-%COMP%]{--border-color:var(--ion-color-danger-shade)}.roundedInput.ion-valid.ion-dirty[_ngcontent-%COMP%]{--border-color:var(--ion-color-success-shade)}ion-icon[_ngcontent-%COMP%]{font-size:35px}"]}),t})()}];let Z=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[s.Bz.forChild(f)],s.Bz]}),t})(),T=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[o.ez,n.u5,n.UX,r.Pc,Z]]}),t})()}}]);