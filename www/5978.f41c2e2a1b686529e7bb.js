(self.webpackChunkKaeser_Ventas=self.webpackChunkKaeser_Ventas||[]).push([[5978],{5978:(e,t,o)=>{"use strict";o.r(t),o.d(t,{StartPageModule:()=>p});var r=o(6274),n=o(4988),i=o(4683),s=o(4337),a=o(1855),c=o(7272),l=o(7242);const u=[{path:"",component:(()=>{class e{constructor(e,t,o,r){this.router=e,this.formBuilder=t,this.api=o,this.toastController=r,this.formLogin=this.formBuilder.group({user:new n.NI("",n.kI.compose([n.kI.required])),password:new n.NI("",n.kI.compose([n.kI.required]))})}ngOnInit(){return(0,a.mG)(this,void 0,void 0,function*(){yield this.api.clearAll()})}getToast(){return(0,a.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({color:"dark",header:"Usuario o Contrase\xf1a incorrectos.",position:"top",duration:750})).present()})}loginUser(e){return(0,a.mG)(this,void 0,void 0,function*(){const t=yield this.api.login(e);if("Successful login."==t.message){const e=yield this.api.getInfoUser({jwt:t.jwt});yield this.api.setDBItem("JWT",t.jwt),yield this.api.setDBItem("User",e),yield this.api.setDBItem("isLogged",!0),this.formLogin.reset(),this.router.navigateByUrl("menu/register")}else this.getToast()})}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(s.F0),c.Y36(n.qu),c.Y36(l.r),c.Y36(i.yF))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-start"]],decls:14,vars:3,consts:[[1,"vertical-align-content",3,"fullscreen"],[2,"text-align","-webkit-center"],["src","assets/img/login/logo.png",2,"width","70%","display","block"],[3,"formGroup"],[1,"roundedInput"],["clearInput","true","formControlName","user","placeholder","Usuario"],["clearInput","true","formControlName","password","type","password","placeholder","Contrase\xf1a"],[2,"--border-radius","25px","--padding","0 25px","--background","#4C7176",3,"disabled","click"]],template:function(e,t){1&e&&(c.TgZ(0,"ion-content",0),c.TgZ(1,"ion-grid"),c.TgZ(2,"ion-row"),c.TgZ(3,"ion-col"),c.TgZ(4,"div",1),c._UZ(5,"ion-img",2),c.qZA(),c.TgZ(6,"form",3),c.TgZ(7,"ion-item",4),c._UZ(8,"ion-input",5),c.qZA(),c.TgZ(9,"ion-item",4),c._UZ(10,"ion-input",6),c.qZA(),c.TgZ(11,"div",1),c.TgZ(12,"ion-button",7),c.NdJ("click",function(){return t.loginUser(t.formLogin.value)}),c._uU(13,"Iniciar Sesi\xf3n"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.Q6J("fullscreen",!0),c.xp6(6),c.Q6J("formGroup",t.formLogin),c.xp6(6),c.Q6J("disabled",!t.formLogin.valid))},directives:[i.W2,i.jY,i.Nd,i.wI,i.Xz,n._Y,n.JL,n.sg,i.Ie,i.pK,i.j9,n.JJ,n.u,i.YG],styles:["ion-content[_ngcontent-%COMP%]{--background:url(/assets/img/login/background.png) no-repeat center center/cover}.vertical-align-content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:flex!important;justify-content:center!important;align-items:center!important;height:100%}.roundedInput[_ngcontent-%COMP%]{--border-color:var(--ion-color-medium-shade);margin-top:5px;--border-radius:25px;--border-width:2px;--box-shadow:0px gray;--color:#000;--highlight-height:0;--background:#0000}"]}),e})()}];let d=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[s.Bz.forChild(u)],s.Bz]}),e})(),p=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[r.ez,n.u5,n.UX,i.Pc,d]]}),e})()}}]);