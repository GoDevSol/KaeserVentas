(self.webpackChunkKaeser_Ventas=self.webpackChunkKaeser_Ventas||[]).push([[550],{1855:(o,t,i)=>{"use strict";function e(o,t,i,e){return new(i||(i=Promise))(function(n,r){function d(o){try{c(e.next(o))}catch(t){r(t)}}function s(o){try{c(e.throw(o))}catch(t){r(t)}}function c(o){var t;o.done?n(o.value):(t=o.value,t instanceof i?t:new i(function(o){o(t)})).then(d,s)}c((e=e.apply(o,t||[])).next())})}i.d(t,{mG:()=>e})},7242:(o,t,i)=>{"use strict";i.d(t,{r:()=>s});var e=i(1855),n=i(7272),r=i(2604),d=i(4683);let s=(()=>{class o{constructor(o,t){this.storage=o,this.toastController=t,this.URL="https://localhost/kaeserVentas/api/req/"}getDBItem(o){return(0,e.mG)(this,void 0,void 0,function*(){this.storage.create();var t=yield this.storage.get(o);return null==t?[]:t})}setDBItem(o,t){return(0,e.mG)(this,void 0,void 0,function*(){yield this.storage.create(),yield this.storage.set(o,t)})}cleanDBItem(o){return(0,e.mG)(this,void 0,void 0,function*(){yield this.storage.create(),yield this.storage.remove(o)})}showToast(o,t){return(0,e.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({color:"dark",message:o,header:t,position:"top",duration:1500})).present()})}login(o){return(0,e.mG)(this,void 0,void 0,function*(){return yield this.resolverSolicitudParamsWithOutAData(this.URL+"login/login.php",o)})}getTiposEquipo(){return(0,e.mG)(this,void 0,void 0,function*(){return yield this.resolverSolicitud(this.URL+"TiposEquipo/read.php")})}getTipoEquipoById(o){return(0,e.mG)(this,void 0,void 0,function*(){return yield this.resolverSolicitudParamsReturnOne(this.URL+"TiposEquipo/readById.php",o)})}getModelosByTipoEquipo(o){return(0,e.mG)(this,void 0,void 0,function*(){return yield this.resolverSolicitudParams(this.URL+"Modelo/readByIdTipoEquipo.php",o)})}readCotizacionAll(){return(0,e.mG)(this,void 0,void 0,function*(){return yield this.resolverSolicitud(this.URL+"Cotizaciones/read.php")})}readCotizacion(o){return(0,e.mG)(this,void 0,void 0,function*(){return yield this.resolverSolicitudParams(this.URL+"Cotizaciones/readByEstado.php",o)})}saveCotizacion(o){return(0,e.mG)(this,void 0,void 0,function*(){return yield this.resolverSolicitudParams(this.URL+"Cotizaciones/create.php",o)})}modificarCotizacion(o){return(0,e.mG)(this,void 0,void 0,function*(){return yield this.resolverSolicitudParams(this.URL+"Cotizaciones/updateById.php",o)})}loadFile(o){return(0,e.mG)(this,void 0,void 0,function*(){return yield this.resolverSolicitudSinJSON(this.URL+"upload.php",o)})}getFile(o){return(0,e.mG)(this,void 0,void 0,function*(){return yield this.resolverSolicitudParams(this.URL+"verificar.php",o)})}resolverSolicitud(o){return(0,e.mG)(this,void 0,void 0,function*(){var t=yield fetch(o),i=yield t.json();return 1==i.status?i.data:[]})}resolverSolicitudParams(o,t){return(0,e.mG)(this,void 0,void 0,function*(){var i=yield fetch(o,{method:"POST",body:JSON.stringify(t)});return(yield i.json()).data})}resolverSolicitudParamsReturnOne(o,t){return(0,e.mG)(this,void 0,void 0,function*(){var i=yield fetch(o,{method:"POST",body:JSON.stringify(t)});return(yield i.json()).data[0]})}resolverSolicitudParamsWithOutAData(o,t){return(0,e.mG)(this,void 0,void 0,function*(){var i=yield fetch(o,{method:"POST",body:JSON.stringify(t)});return yield i.json()})}resolverSolicitudSinJSON(o,t){return(0,e.mG)(this,void 0,void 0,function*(){var i=yield fetch(o,{method:"POST",body:t});return(yield i.json()).data})}}return o.\u0275fac=function(t){return new(t||o)(n.LFG(r.K),n.LFG(d.yF))},o.\u0275prov=n.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()},550:(o,t,i)=>{"use strict";i.r(t),i.d(t,{postVentaViewModule:()=>m});var e=i(6274),n=i(4988),r=i(4683),d=i(4337),s=i(1855),c=i(7272);let a=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=c.oAB({type:o}),o.\u0275inj=c.cJS({imports:[[e.ez,r.Pc,n.u5,n.UX]]}),o})();var u=i(7242);function l(o,t){if(1&o&&(c.TgZ(0,"tr"),c.TgZ(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.qZA(),c.TgZ(5,"td"),c._uU(6),c.qZA(),c.qZA()),2&o){const o=t.$implicit,i=t.index;c.xp6(2),c.Oqu(i+1),c.xp6(2),c.Oqu(o.cantidad),c.xp6(2),c.Oqu(o.modelo)}}function g(o,t){if(1&o&&(c.TgZ(0,"div",21),c.TgZ(1,"h2"),c.TgZ(2,"strong"),c._uU(3," ORDEN DE COMPRA:"),c.qZA(),c.qZA(),c.TgZ(4,"table"),c.TgZ(5,"tr"),c.TgZ(6,"th"),c._UZ(7,"ion-icon",22),c.qZA(),c.TgZ(8,"th"),c.TgZ(9,"strong"),c._uU(10),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&o){const o=c.oxw();c.xp6(10),c.hij(" ",o.direccionArchivo," ")}}function h(o,t){if(1&o){const o=c.EpF();c.TgZ(0,"ion-button",16),c.NdJ("click",function(){return c.CHM(o),c.oxw().showModal()}),c._uU(1," MODIFICAR ORDEN DE COMPRA"),c.qZA()}}function p(o,t){if(1&o){const o=c.EpF();c.TgZ(0,"ion-button",16),c.NdJ("click",function(){return c.CHM(o),c.oxw().showModal()}),c._uU(1," AGREGAR ORDEN DE COMPRA"),c.qZA()}}const v=[{path:"",component:(()=>{class o{constructor(o,t,i,e){this.navCtrl=o,this.api=t,this.modalCtrl=i,this.toastController=e,this.modelosStorage=[],this.datosForm=[],this.direccionArchivo=""}ngOnInit(){return(0,s.mG)(this,void 0,void 0,function*(){this.getData()})}goTo(o){return(0,s.mG)(this,void 0,void 0,function*(){this.navCtrl.navigateBack("menu/"+o)})}goForward(o){return(0,s.mG)(this,void 0,void 0,function*(){this.navCtrl.navigateForward("menu/"+o)})}showModal(){return(0,s.mG)(this,void 0,void 0,function*(){const o=yield this.modalCtrl.create({component:a,componentProps:{id:1},backdropDismiss:!1});yield o.present(),yield o.onDidDismiss(),this.getData()})}getData(){return(0,s.mG)(this,void 0,void 0,function*(){var o=yield this.api.getDBItem("postVenta");this.modelosStorage=o.datosModelos,this.datosForm=o.datosForm,this.direccionArchivo=o.direccionArchivo,""!=this.direccionArchivo&&(this.direccionArchivo=this.direccionArchivo.split("\\")[2])})}Process(){return(0,s.mG)(this,void 0,void 0,function*(){var o=yield this.api.getDBItem("postVenta");if(""!=o.direccionArchivo){var t={id:o.id,datosForm:JSON.stringify(o.datosForm),datosModelos:JSON.stringify(o.datosModelos),direccionArchivo:o.direccionArchivo,estado:3};yield this.api.modificarCotizacion(t),this.api.showToast("Solicitud procesada exitosamente","SOLICITUD"),this.navCtrl.navigateBack("menu/register")}else this.api.showToast("Por favor ingrese una orden de compra para poder procesar la cotizacion.","Post Venta")})}}return o.\u0275fac=function(t){return new(t||o)(c.Y36(r.SH),c.Y36(u.r),c.Y36(r.IN),c.Y36(r.yF))},o.\u0275cmp=c.Xpm({type:o,selectors:[["app-enviar"]],decls:84,vars:17,consts:[[3,"translucent"],[2,"--background","none","border-bottom","#4C7176 solid","border-width","3px","border-top","solid 5px #4C7176"],["slot","start","src","assets/img/principal/logo.png",2,"height","50px","margin","5px"],["slot","end"],[2,"color","#4C7176"],[3,"fullscreen"],[2,"--background","none","border","none"],["src","assets/img/back.png",2,"height","25px","display","inline","width","20px","vertical-align","super",3,"click"],[2,"--border-radius","25px","--padding","0 25px","--background","#4C7176","height","25px","vertical-align","super",3,"click"],[2,"--background","#E6E7E7"],[2,"text-align","justify","line-height","1","font-size","14px"],[2,"margin-top","20px","border-top","2px solid #4C7176","padding-top","10px"],[2,"border-top","2px solid #4C7176","padding-top","10px"],[4,"ngFor","ngForOf"],["style","text-align: -webkit-left; margin-top: 15px;",4,"ngIf"],[2,"text-align","-webkit-center","margin-top","20px"],["type","submit",2,"--border-radius","25px","--padding","0 25px","--background","#4C7176",3,"click"],["type","submit","style","--border-radius: 25px;--padding: 0 25px; --background: #4C7176",3,"click",4,"ngIf"],["text-center","","no-border","","transparent","",2,"background","white"],[2,"text-align","-webkit-center","border-top","2px solid #4C7176"],["src","assets/img/footer/footer.png",2,"width","225px"],[2,"text-align","-webkit-left","margin-top","15px"],["name","document-outline"]],template:function(o,t){1&o&&(c.TgZ(0,"ion-header",0),c.TgZ(1,"ion-toolbar",1),c._UZ(2,"ion-img",2),c.TgZ(3,"ion-buttons",3),c._UZ(4,"ion-menu-button",4),c.qZA(),c.qZA(),c.qZA(),c.TgZ(5,"ion-content",5),c.TgZ(6,"ion-toolbar",6),c.TgZ(7,"div"),c.TgZ(8,"img",7),c.NdJ("click",function(){return t.goTo("solicitudes")}),c.qZA(),c.TgZ(9,"ion-button",8),c.NdJ("click",function(){return t.goTo("solicitudes")}),c._uU(10," Solicitud"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(11,"ion-card",9),c.TgZ(12,"ion-card-content",10),c._uU(13," Ejecute la solicitud o editela. "),c.TgZ(14,"div",11),c.TgZ(15,"h1"),c._uU(16," Datos:"),c.qZA(),c.TgZ(17,"h2"),c.TgZ(18,"strong"),c._uU(19," No. de oportunidad: "),c.qZA(),c._uU(20),c.qZA(),c.TgZ(21,"h2"),c.TgZ(22,"strong"),c._uU(23,"No. de oferta:"),c.qZA(),c._uU(24),c.qZA(),c.TgZ(25,"h2"),c.TgZ(26,"strong"),c._uU(27,"Id Cliente:"),c.qZA(),c._uU(28),c.qZA(),c.TgZ(29,"h2"),c.TgZ(30,"strong"),c._uU(31,"Nombre del cliente:"),c.qZA(),c._uU(32),c.qZA(),c.TgZ(33,"h2"),c.TgZ(34,"strong"),c._uU(35,"Direcci\xf3n de entrega:"),c.qZA(),c._uU(36),c.qZA(),c.TgZ(37,"h2"),c.TgZ(38,"strong"),c._uU(39,"Contacto:"),c.qZA(),c._uU(40),c.qZA(),c.TgZ(41,"h2"),c.TgZ(42,"strong"),c._uU(43,"Condiciones de pago:"),c.qZA(),c._uU(44),c.qZA(),c.TgZ(45,"h2"),c.TgZ(46,"strong"),c._uU(47,"Moneda:"),c.qZA(),c._uU(48),c.qZA(),c.TgZ(49,"h2"),c.TgZ(50,"strong"),c._uU(51,"Porcentaje de descuento:"),c.qZA(),c._uU(52),c.qZA(),c.TgZ(53,"h2"),c.TgZ(54,"strong"),c._uU(55,"Correo electr\xf3nico del cliente:"),c.qZA(),c._uU(56),c.qZA(),c.TgZ(57,"h2"),c.TgZ(58,"strong"),c._uU(59,"Observacion:"),c.qZA(),c._uU(60),c.qZA(),c.qZA(),c._UZ(61,"hr"),c.TgZ(62,"div",12),c.TgZ(63,"table"),c.TgZ(64,"tr"),c.TgZ(65,"th"),c._uU(66,"#"),c.qZA(),c.TgZ(67,"th"),c._uU(68,"Unidades"),c.qZA(),c.TgZ(69,"th"),c._uU(70,"Descripcion"),c.qZA(),c.qZA(),c.YNc(71,l,7,3,"tr",13),c.qZA(),c.qZA(),c.YNc(72,g,11,1,"div",14),c.TgZ(73,"div",15),c.TgZ(74,"ion-button",16),c.NdJ("click",function(){return t.goTo("solicitudEdit")}),c._uU(75,"EDITAR"),c.qZA(),c.qZA(),c.TgZ(76,"div",15),c.YNc(77,h,2,0,"ion-button",17),c.YNc(78,p,2,0,"ion-button",17),c.TgZ(79,"ion-button",16),c.NdJ("click",function(){return t.Process()}),c._uU(80,"EJECUTAR"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(81,"ion-footer",18),c.TgZ(82,"div",19),c._UZ(83,"ion-img",20),c.qZA(),c.qZA()),2&o&&(c.Q6J("translucent",!0),c.xp6(5),c.Q6J("fullscreen",!0),c.xp6(15),c.hij(" ",t.datosForm.oportunidad,""),c.xp6(4),c.hij(" ",t.datosForm.oferta,""),c.xp6(4),c.hij(" ",t.datosForm.idCliente,""),c.xp6(4),c.hij(" ",t.datosForm.nombreCliente,""),c.xp6(4),c.hij(" ",t.datosForm.direccion,""),c.xp6(4),c.hij(" ",t.datosForm.contacto," "),c.xp6(4),c.hij(" ",t.datosForm.condicionPago,""),c.xp6(4),c.hij(" ",t.datosForm.moneda,""),c.xp6(4),c.hij(" ",t.datosForm.porcentajeDescuento,"%"),c.xp6(4),c.hij(" ",t.datosForm.correoCliente,""),c.xp6(4),c.hij(" ",t.datosForm.observacion,""),c.xp6(11),c.Q6J("ngForOf",t.modelosStorage),c.xp6(1),c.Q6J("ngIf",t.direccionArchivo.length>0),c.xp6(5),c.Q6J("ngIf",t.direccionArchivo.length>0),c.xp6(1),c.Q6J("ngIf",0==t.direccionArchivo.length))},directives:[r.Gu,r.sr,r.Xz,r.Sm,r.fG,r.W2,r.YG,r.PM,r.FN,e.sg,e.O5,r.fr,r.gu],styles:["ion-content[_ngcontent-%COMP%]{--background:url(/assets/img/login/background.png) no-repeat center center/cover}.roundedInput[_ngcontent-%COMP%]{--border-color:var(--ion-color-medium-shade);--background:#e6e7e7;margin-top:5px;padding:0 15px;font-size:14px;--border-radius:15px;--border-width:1px;--box-shadow:5px #fff;--color:#000;--highlight-height:0}.roundedInput.ion-invalid.item-has-focus[_ngcontent-%COMP%]{--border-color:var(--ion-color-danger-shade)}.roundedInput.ion-valid.item-has-focus[_ngcontent-%COMP%]{--border-color:var(--ion-color-success-shade)}.roundedInput.ion-invalid.ion-dirty[_ngcontent-%COMP%]{--border-color:var(--ion-color-danger-shade)}.roundedInput.ion-valid.ion-dirty[_ngcontent-%COMP%]{--border-color:var(--ion-color-success-shade)}table[_ngcontent-%COMP%]{font-family:arial,sans-serif;border:1px solid #4c7176;border-collapse:collapse;width:100%}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-align:left;padding:8px}th[_ngcontent-%COMP%]{border:1px solid #4c7176;color:#4c7176;background-color:#ddd}td[_ngcontent-%COMP%]{border-left:1px solid #4c7176;border-bottom:1px dashed #4c7176}ion-icon[_ngcontent-%COMP%]{font-size:45px}"]}),o})()}];let Z=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=c.oAB({type:o}),o.\u0275inj=c.cJS({imports:[[d.Bz.forChild(v)],d.Bz]}),o})(),m=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=c.oAB({type:o}),o.\u0275inj=c.cJS({imports:[[e.ez,n.u5,n.UX,r.Pc,Z]]}),o})()}}]);