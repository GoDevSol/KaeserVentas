(self.webpackChunkKaeser_Ventas=self.webpackChunkKaeser_Ventas||[]).push([[5978],{1855:(t,i,e)=>{"use strict";function r(t,i,e,r){return new(e||(e=Promise))(function(o,n){function s(t){try{d(r.next(t))}catch(i){n(i)}}function a(t){try{d(r.throw(t))}catch(i){n(i)}}function d(t){var i;t.done?o(t.value):(i=t.value,i instanceof e?i:new e(function(t){t(i)})).then(s,a)}d((r=r.apply(t,i||[])).next())})}e.d(i,{mG:()=>r})},7242:(t,i,e)=>{"use strict";e.d(i,{r:()=>a});var r=e(1855),o=e(7272),n=e(2604),s=e(4683);let a=(()=>{class t{constructor(t,i){this.storage=t,this.toastController=i,this.URL="https://godevsol.tech/kaeserVentas/api/req/"}getDBItem(t){return(0,r.mG)(this,void 0,void 0,function*(){this.storage.create();var i=yield this.storage.get(t);return null==i?[]:i})}setDBItem(t,i){return(0,r.mG)(this,void 0,void 0,function*(){yield this.storage.create(),yield this.storage.set(t,i)})}cleanDBItem(t){return(0,r.mG)(this,void 0,void 0,function*(){yield this.storage.create(),yield this.storage.remove(t)})}showToast(t,i){return(0,r.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({color:"dark",message:t,header:i,position:"top",duration:1500})).present()})}login(t){return(0,r.mG)(this,void 0,void 0,function*(){return yield this.resolverSolicitudParamsWithOutAData(this.URL+"login/login.php",t)})}getInfoUser(t){return(0,r.mG)(this,void 0,void 0,function*(){return yield this.resolverSolicitudParams(this.URL+"login/validate_token.php",t)})}getTiposEquipo(){return(0,r.mG)(this,void 0,void 0,function*(){return yield this.resolverSolicitud(this.URL+"TiposEquipo/read.php")})}getTipoEquipoById(t){return(0,r.mG)(this,void 0,void 0,function*(){return yield this.resolverSolicitudParamsReturnOne(this.URL+"TiposEquipo/readById.php",t)})}getModelosByTipoEquipo(t){return(0,r.mG)(this,void 0,void 0,function*(){return yield this.resolverSolicitudParams(this.URL+"Modelo/readByIdTipoEquipo.php",t)})}readCotizacionAll(){return(0,r.mG)(this,void 0,void 0,function*(){return yield this.resolverSolicitud(this.URL+"Cotizaciones/read.php")})}readCotizacion(t){return(0,r.mG)(this,void 0,void 0,function*(){return yield this.resolverSolicitudParams(this.URL+"Cotizaciones/readByEstado.php",t)})}saveCotizacion(t){return(0,r.mG)(this,void 0,void 0,function*(){return yield this.resolverSolicitudParamsWithOutAData(this.URL+"Cotizaciones/create.php",t)})}modificarCotizacion(t){return(0,r.mG)(this,void 0,void 0,function*(){return yield this.resolverSolicitudParams(this.URL+"Cotizaciones/updateById.php",t)})}modificarUsuario(t){return(0,r.mG)(this,void 0,void 0,function*(){var i=yield this.getDBItem("JWT"),e=Object.assign(Object.assign({},t),{jwt:i});return yield this.resolverSolicitudParams(this.URL+"user/updateUser.php",e)})}updatePassword(t){return(0,r.mG)(this,void 0,void 0,function*(){var i=yield this.getDBItem("JWT"),e=Object.assign(Object.assign({},t),{jwt:i});return yield this.resolverSolicitudParamsWithOutAData(this.URL+"user/updateUserPassword.php",e)})}loadFile(t){return(0,r.mG)(this,void 0,void 0,function*(){return yield this.resolverSolicitudSinJSON(this.URL+"upload.php",t)})}getFile(t){return(0,r.mG)(this,void 0,void 0,function*(){return yield this.resolverSolicitudParams(this.URL+"verificar.php",t)})}createPDF(t){return(0,r.mG)(this,void 0,void 0,function*(){return yield this.resolverSolicitudParamsWithOutParse(this.URL+"pdf/pdfCreation.php",t)})}sendMail(t){return(0,r.mG)(this,void 0,void 0,function*(){return yield this.resolverSolicitudParams(this.URL+"email/"+t.url,t)})}resolverSolicitud(t){return(0,r.mG)(this,void 0,void 0,function*(){var i=yield fetch(t),e=yield i.json();return 1==e.status?e.data:[]})}resolverSolicitudParams(t,i){return(0,r.mG)(this,void 0,void 0,function*(){var e=yield fetch(t,{method:"POST",body:JSON.stringify(i)});return(yield e.json()).data})}resolverSolicitudParamsReturnOne(t,i){return(0,r.mG)(this,void 0,void 0,function*(){var e=yield fetch(t,{method:"POST",body:JSON.stringify(i)});return(yield e.json()).data[0]})}resolverSolicitudParamsWithOutAData(t,i){return(0,r.mG)(this,void 0,void 0,function*(){var e=yield fetch(t,{method:"POST",body:JSON.stringify(i)});return yield e.json()})}resolverSolicitudSinJSON(t,i){return(0,r.mG)(this,void 0,void 0,function*(){var e=yield fetch(t,{method:"POST",body:i});return(yield e.json()).data})}resolverSolicitudParamsWithOutParse(t,i){return(0,r.mG)(this,void 0,void 0,function*(){var e=yield fetch(t,{method:"POST",body:JSON.stringify(i)}),r=yield e.text();window.open("").document.write("<iframe width='100%' height='100%' src='"+r+"'></iframe>")})}}return t.\u0275fac=function(i){return new(i||t)(o.LFG(n.K),o.LFG(s.yF))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},5978:(t,i,e)=>{"use strict";e.r(i),e.d(i,{StartPageModule:()=>p});var r=e(6274),o=e(4988),n=e(4683),s=e(4337),a=e(1855),d=e(7272),u=e(2604),c=e(7242);const l=[{path:"",component:(()=>{class t{constructor(t,i,e,r,n){this.router=t,this.storage=i,this.formBuilder=e,this.api=r,this.toastController=n,this.formLogin=this.formBuilder.group({user:new o.NI("",o.kI.compose([o.kI.required])),password:new o.NI("",o.kI.compose([o.kI.required]))})}ngOnInit(){}getToast(){return(0,a.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({color:"dark",header:"Usuario o Contrase\xf1a incorrectos.",position:"top",duration:750})).present()})}loginUser(t){return(0,a.mG)(this,void 0,void 0,function*(){const i=yield this.api.login(t);if("Successful login."==i.message){const t=yield this.api.getInfoUser({jwt:i.jwt});this.api.setDBItem("JWT",i.jwt),this.api.setDBItem("User",t),this.api.setDBItem("isLogged",!0),this.formLogin.reset(),this.router.navigateByUrl("menu/register")}else this.getToast()})}}return t.\u0275fac=function(i){return new(i||t)(d.Y36(s.F0),d.Y36(u.K),d.Y36(o.qu),d.Y36(c.r),d.Y36(n.yF))},t.\u0275cmp=d.Xpm({type:t,selectors:[["app-start"]],decls:14,vars:3,consts:[[1,"vertical-align-content",3,"fullscreen"],[2,"text-align","-webkit-center"],["src","assets/img/login/logo.png",2,"width","70%","display","block"],[3,"formGroup"],[1,"roundedInput"],["clearInput","true","formControlName","user","placeholder","Usuario"],["clearInput","true","formControlName","password","type","password","placeholder","Contrase\xf1a"],[2,"--border-radius","25px","--padding","0 25px","--background","#4C7176",3,"disabled","click"]],template:function(t,i){1&t&&(d.TgZ(0,"ion-content",0),d.TgZ(1,"ion-grid"),d.TgZ(2,"ion-row"),d.TgZ(3,"ion-col"),d.TgZ(4,"div",1),d._UZ(5,"ion-img",2),d.qZA(),d.TgZ(6,"form",3),d.TgZ(7,"ion-item",4),d._UZ(8,"ion-input",5),d.qZA(),d.TgZ(9,"ion-item",4),d._UZ(10,"ion-input",6),d.qZA(),d.TgZ(11,"div",1),d.TgZ(12,"ion-button",7),d.NdJ("click",function(){return i.loginUser(i.formLogin.value)}),d._uU(13,"Iniciar Sesi\xf3n"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&t&&(d.Q6J("fullscreen",!0),d.xp6(6),d.Q6J("formGroup",i.formLogin),d.xp6(6),d.Q6J("disabled",!i.formLogin.valid))},directives:[n.W2,n.jY,n.Nd,n.wI,n.Xz,o._Y,o.JL,o.sg,n.Ie,n.pK,n.j9,o.JJ,o.u,n.YG],styles:["ion-content[_ngcontent-%COMP%]{--background:url(/assets/img/login/background.png) no-repeat center center/cover}.vertical-align-content[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{display:flex!important;justify-content:center!important;align-items:center!important;height:100%}.roundedInput[_ngcontent-%COMP%]{--border-color:var(--ion-color-medium-shade);margin-top:5px;--border-radius:25px;--border-width:2px;--box-shadow:0px gray;--color:#000;--highlight-height:0;--background:#0000}"]}),t})()}];let h=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[s.Bz.forChild(l)],s.Bz]}),t})(),p=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=d.oAB({type:t}),t.\u0275inj=d.cJS({imports:[[r.ez,o.u5,o.UX,n.Pc,h]]}),t})()}}]);