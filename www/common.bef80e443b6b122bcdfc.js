(self.webpackChunkKaeser_Ventas=self.webpackChunkKaeser_Ventas||[]).push([[8592],{1855:(t,e,i)=>{"use strict";function o(t,e,i,o){return new(i||(i=Promise))(function(n,r){function s(t){try{d(o.next(t))}catch(e){r(e)}}function a(t){try{d(o.throw(t))}catch(e){r(e)}}function d(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(s,a)}d((o=o.apply(t,e||[])).next())})}i.d(e,{mG:()=>o})},7658:(t,e,i)=>{"use strict";i.d(e,{c:()=>s});var o=i(5133),n=i(6887),r=i(4366);const s=(t,e)=>{let i,s;const a=(t,o,n)=>{if("undefined"==typeof document)return;const r=document.elementFromPoint(t,o);r&&e(r)?r!==i&&(l(),d(r,n)):l()},d=(t,e)=>{i=t,s||(s=i);const n=i;(0,o.c)(()=>n.classList.add("ion-activated")),e()},l=(t=!1)=>{if(!i)return;const e=i;(0,o.c)(()=>e.classList.remove("ion-activated")),t&&s!==i&&i.click(),i=void 0};return(0,r.createGesture)({el:t,gestureName:"buttonActiveDrag",threshold:0,onStart:t=>a(t.currentX,t.currentY,n.a),onMove:t=>a(t.currentX,t.currentY,n.b),onEnd:()=>{l(!0),(0,n.h)(),s=void 0}})}},4369:(t,e,i)=>{"use strict";i.d(e,{a:()=>n,d:()=>r});var o=i(5392);const n=async(t,e,i,n,r)=>{if(t)return t.attachViewToDom(e,i,r,n);if("string"!=typeof i&&!(i instanceof HTMLElement))throw new Error("framework delegate is missing");const s="string"==typeof i?e.ownerDocument&&e.ownerDocument.createElement(i):i;return n&&n.forEach(t=>s.classList.add(t)),r&&Object.assign(s,r),e.appendChild(s),await new Promise(t=>(0,o.c)(s,t)),s},r=(t,e)=>{if(e){if(t)return t.removeViewFromDom(e.parentElement,e);e.remove()}return Promise.resolve()}},6887:(t,e,i)=>{"use strict";i.d(e,{a:()=>r,b:()=>s,c:()=>n,d:()=>d,h:()=>a});const o={getEngine(){const t=window;return t.TapticEngine||t.Capacitor&&t.Capacitor.isPluginAvailable("Haptics")&&t.Capacitor.Plugins.Haptics},available(){return!!this.getEngine()},isCordova:()=>!!window.TapticEngine,isCapacitor:()=>!!window.Capacitor,impact(t){const e=this.getEngine();if(!e)return;const i=this.isCapacitor()?t.style.toUpperCase():t.style;e.impact({style:i})},notification(t){const e=this.getEngine();if(!e)return;const i=this.isCapacitor()?t.style.toUpperCase():t.style;e.notification({style:i})},selection(){this.impact({style:"light"})},selectionStart(){const t=this.getEngine();t&&(this.isCapacitor()?t.selectionStart():t.gestureSelectionStart())},selectionChanged(){const t=this.getEngine();t&&(this.isCapacitor()?t.selectionChanged():t.gestureSelectionChanged())},selectionEnd(){const t=this.getEngine();t&&(this.isCapacitor()?t.selectionEnd():t.gestureSelectionEnd())}},n=()=>{o.selection()},r=()=>{o.selectionStart()},s=()=>{o.selectionChanged()},a=()=>{o.selectionEnd()},d=t=>{o.impact(t)}},8085:(t,e,i)=>{"use strict";i.d(e,{s:()=>o});const o=t=>{try{if(t instanceof class{constructor(t){this.value=t}})return t.value;if(!s()||"string"!=typeof t||""===t)return t;const e=document.createDocumentFragment(),i=document.createElement("div");e.appendChild(i),i.innerHTML=t,d.forEach(t=>{const i=e.querySelectorAll(t);for(let o=i.length-1;o>=0;o--){const t=i[o];t.parentNode?t.parentNode.removeChild(t):e.removeChild(t);const s=r(t);for(let e=0;e<s.length;e++)n(s[e])}});const o=r(e);for(let t=0;t<o.length;t++)n(o[t]);const a=document.createElement("div");a.appendChild(e);const l=a.querySelector("div");return null!==l?l.innerHTML:a.innerHTML}catch(e){return console.error(e),""}},n=t=>{if(t.nodeType&&1!==t.nodeType)return;for(let i=t.attributes.length-1;i>=0;i--){const e=t.attributes.item(i),o=e.name;if(!a.includes(o.toLowerCase())){t.removeAttribute(o);continue}const n=e.value;null!=n&&n.toLowerCase().includes("javascript:")&&t.removeAttribute(o)}const e=r(t);for(let i=0;i<e.length;i++)n(e[i])},r=t=>null!=t.children?t.children:t.childNodes,s=()=>{const t=window,e=t&&t.Ionic&&t.Ionic.config;return!e||(e.get?e.get("sanitizerEnabled",!0):!0===e.sanitizerEnabled||void 0===e.sanitizerEnabled)},a=["class","id","href","src","name","slot"],d=["script","style","iframe","meta","link","object","embed"]},977:(t,e,i)=>{"use strict";i.d(e,{S:()=>o});const o={bubbles:{dur:1e3,circles:9,fn:(t,e,i)=>{const o=t*e/i-t+"ms",n=2*Math.PI*e/i;return{r:5,style:{top:9*Math.sin(n)+"px",left:9*Math.cos(n)+"px","animation-delay":o}}}},circles:{dur:1e3,circles:8,fn:(t,e,i)=>{const o=e/i,n=t*o-t+"ms",r=2*Math.PI*o;return{r:5,style:{top:9*Math.sin(r)+"px",left:9*Math.cos(r)+"px","animation-delay":n}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(t,e)=>({r:6,style:{left:9-9*e+"px","animation-delay":-110*e+"ms"}})},lines:{dur:1e3,lines:12,fn:(t,e,i)=>({y1:17,y2:29,style:{transform:`rotate(${30*e+(e<6?180:-180)}deg)`,"animation-delay":t*e/i-t+"ms"}})},"lines-small":{dur:1e3,lines:12,fn:(t,e,i)=>({y1:12,y2:20,style:{transform:`rotate(${30*e+(e<6?180:-180)}deg)`,"animation-delay":t*e/i-t+"ms"}})}}},9046:(t,e,i)=>{"use strict";i.d(e,{c:()=>n,g:()=>r,h:()=>o,o:()=>a});const o=(t,e)=>null!==e.closest(t),n=(t,e)=>"string"==typeof t&&t.length>0?Object.assign({"ion-color":!0,[`ion-color-${t}`]:!0},e):e,r=t=>{const e={};return(t=>void 0!==t?(Array.isArray(t)?t:t.split(" ")).filter(t=>null!=t).map(t=>t.trim()).filter(t=>""!==t):[])(t).forEach(t=>e[t]=!0),e},s=/^[a-z][a-z0-9+\-.]*:/,a=async(t,e,i,o)=>{if(null!=t&&"#"!==t[0]&&!s.test(t)){const n=document.querySelector("ion-router");if(n)return null!=e&&e.preventDefault(),n.push(t,i,o)}return!1}},7242:(t,e,i)=>{"use strict";i.d(e,{r:()=>a});var o=i(1855),n=i(7272),r=i(2604),s=i(4683);let a=(()=>{class t{constructor(t,e){this.storage=t,this.toastController=e,this.URL="https://localhost/kaeserVentas/api/req/"}getDBItem(t){return(0,o.mG)(this,void 0,void 0,function*(){this.storage.create();var e=yield this.storage.get(t);return null==e?[]:e})}setDBItem(t,e){return(0,o.mG)(this,void 0,void 0,function*(){yield this.storage.create(),yield this.storage.set(t,e)})}cleanDBItem(t){return(0,o.mG)(this,void 0,void 0,function*(){yield this.storage.create(),yield this.storage.remove(t)})}clearAll(){return(0,o.mG)(this,void 0,void 0,function*(){yield this.storage.create(),yield this.storage.clear()})}showToast(t,e){return(0,o.mG)(this,void 0,void 0,function*(){(yield this.toastController.create({color:"dark",message:t,header:e,position:"top",duration:1500})).present()})}login(t){return(0,o.mG)(this,void 0,void 0,function*(){return yield this.resolverSolicitudParamsWithOutAData(this.URL+"login/login.php",t)})}getInfoUser(t){return(0,o.mG)(this,void 0,void 0,function*(){return yield this.resolverSolicitudParams(this.URL+"login/validate_token.php",t)})}getTiposEquipo(){return(0,o.mG)(this,void 0,void 0,function*(){return yield this.resolverSolicitud(this.URL+"TiposEquipo/read.php")})}getTipoEquipoById(t){return(0,o.mG)(this,void 0,void 0,function*(){return yield this.resolverSolicitudParamsReturnOne(this.URL+"TiposEquipo/readById.php",t)})}getModelosByTipoEquipo(t){return(0,o.mG)(this,void 0,void 0,function*(){return yield this.resolverSolicitudParams(this.URL+"Modelo/readByIdTipoEquipo.php",t)})}readCotizacionAll(){return(0,o.mG)(this,void 0,void 0,function*(){return yield this.resolverSolicitud(this.URL+"Cotizaciones/read.php")})}readCotizacion(t){return(0,o.mG)(this,void 0,void 0,function*(){var e=yield this.getDBItem("JWT"),i=Object.assign(Object.assign({},t),{jwt:e});return yield this.resolverSolicitudParams(this.URL+"Cotizaciones/readByEstado.php",i)})}saveCotizacion(t){return(0,o.mG)(this,void 0,void 0,function*(){return yield this.resolverSolicitudParamsWithOutAData(this.URL+"Cotizaciones/create.php",t)})}modificarCotizacion(t){return(0,o.mG)(this,void 0,void 0,function*(){return yield this.resolverSolicitudParams(this.URL+"Cotizaciones/updateById.php",t)})}modificarUsuario(t){return(0,o.mG)(this,void 0,void 0,function*(){var e=yield this.getDBItem("JWT"),i=Object.assign(Object.assign({},t),{jwt:e});return yield this.resolverSolicitudParams(this.URL+"user/updateUser.php",i)})}updatePassword(t){return(0,o.mG)(this,void 0,void 0,function*(){var e=yield this.getDBItem("JWT"),i=Object.assign(Object.assign({},t),{jwt:e});return yield this.resolverSolicitudParamsWithOutAData(this.URL+"user/updateUserPassword.php",i)})}loadFile(t){return(0,o.mG)(this,void 0,void 0,function*(){return yield this.resolverSolicitudSinJSON(this.URL+"upload.php",t)})}getFile(t){return(0,o.mG)(this,void 0,void 0,function*(){return yield this.resolverSolicitudParams(this.URL+"verificar.php",t)})}createPDF(t){return(0,o.mG)(this,void 0,void 0,function*(){return yield this.resolverSolicitudParamsWithOutParse(this.URL+"pdf/pdfCreation.php",t)})}sendMail(t){return(0,o.mG)(this,void 0,void 0,function*(){return yield this.resolverSolicitudParams(this.URL+"email/"+t.url,t)})}resolverSolicitud(t){return(0,o.mG)(this,void 0,void 0,function*(){var e=yield fetch(t),i=yield e.json();return 1==i.status?i.data:[]})}resolverSolicitudParams(t,e){return(0,o.mG)(this,void 0,void 0,function*(){var i=yield fetch(t,{method:"POST",body:JSON.stringify(e)});return(yield i.json()).data})}resolverSolicitudParamsReturnOne(t,e){return(0,o.mG)(this,void 0,void 0,function*(){var i=yield fetch(t,{method:"POST",body:JSON.stringify(e)});return(yield i.json()).data[0]})}resolverSolicitudParamsWithOutAData(t,e){return(0,o.mG)(this,void 0,void 0,function*(){var i=yield fetch(t,{method:"POST",body:JSON.stringify(e)});return yield i.json()})}resolverSolicitudSinJSON(t,e){return(0,o.mG)(this,void 0,void 0,function*(){var i=yield fetch(t,{method:"POST",body:e});return(yield i.json()).data})}resolverSolicitudParamsWithOutParse(t,e){return(0,o.mG)(this,void 0,void 0,function*(){var i=yield fetch(t,{method:"POST",body:JSON.stringify(e)}),o=yield i.text();window.open("").document.write("<iframe width='100%' height='100%' src='"+o+"'></iframe>")})}}return t.\u0275fac=function(e){return new(e||t)(n.LFG(r.K),n.LFG(s.yF))},t.\u0275prov=n.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},2471:(t,e,i)=>{"use strict";i.d(e,{l:()=>u});var o=i(1855),n=i(7272),r=i(4683),s=i(7242),a=i(6274);function d(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"ion-grid",13),n.TgZ(1,"ion-row"),n.TgZ(2,"ion-col",14),n.TgZ(3,"ion-item",15),n.TgZ(4,"ion-label",16),n._uU(5,"PSI:"),n.qZA(),n.TgZ(6,"ion-select",17),n.NdJ("ionChange",function(e){return n.CHM(t),n.oxw().filter(e.target)}),n.TgZ(7,"ion-select-option",18),n._uU(8,"Todos"),n.qZA(),n.TgZ(9,"ion-select-option",19),n._uU(10,"87"),n.qZA(),n.TgZ(11,"ion-select-option",20),n._uU(12,"125"),n.qZA(),n.TgZ(13,"ion-select-option",21),n._uU(14,"130"),n.qZA(),n.TgZ(15,"ion-select-option",22),n._uU(16,"160"),n.qZA(),n.TgZ(17,"ion-select-option",23),n._uU(18,"174"),n.qZA(),n.TgZ(19,"ion-select-option",24),n._uU(20,"217"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(21,"ion-col",14),n.TgZ(22,"ion-item",15),n.TgZ(23,"ion-label",16),n._uU(24,"VOLTAJE:"),n.qZA(),n.TgZ(25,"ion-select",25),n.NdJ("ionChange",function(e){return n.CHM(t),n.oxw().filter(e.target)}),n.TgZ(26,"ion-select-option",18),n._uU(27,"Todos"),n.qZA(),n.TgZ(28,"ion-select-option",26),n._uU(29,"Trivoltaje (208/240/460 VAC 60HZ) "),n.qZA(),n.TgZ(30,"ion-select-option",27),n._uU(31,"240 VAC 60HZ"),n.qZA(),n.TgZ(32,"ion-select-option",28),n._uU(33,"460 VAC 60HZ"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()}}function l(t,e){if(1&t&&(n.TgZ(0,"ion-row"),n.TgZ(1,"ion-col",38),n.TgZ(2,"strong",39),n._uU(3," CFM: "),n.qZA(),n.TgZ(4,"strong"),n._uU(5),n.qZA(),n.qZA(),n.TgZ(6,"ion-col",14),n.TgZ(7,"strong",39),n._uU(8," PSI: "),n.qZA(),n.TgZ(9,"strong"),n._uU(10),n.qZA(),n.qZA(),n.TgZ(11,"ion-col",40),n.TgZ(12,"strong",39),n._uU(13," VOLTAJE: "),n.qZA(),n.TgZ(14,"strong"),n._uU(15),n.qZA(),n.qZA(),n.qZA()),2&t){const t=n.oxw().$implicit;n.xp6(5),n.hij(" ",t.CFM," "),n.xp6(5),n.hij(" ",t.PSI," "),n.xp6(5),n.hij(" ",t.VOLTAJE," ")}}function c(t,e){if(1&t){const t=n.EpF();n.TgZ(0,"ion-item",29),n.TgZ(1,"ion-grid"),n.TgZ(2,"ion-row"),n.TgZ(3,"ion-col",14),n.TgZ(4,"strong",30),n._uU(5),n.qZA(),n.qZA(),n.qZA(),n.YNc(6,l,16,3,"ion-row",31),n.TgZ(7,"ion-row"),n.TgZ(8,"ion-col",32),n.TgZ(9,"ion-button",33),n.NdJ("click",function(){const e=n.CHM(t).$implicit;return n.oxw().restar(e)}),n._uU(10,"- "),n.qZA(),n.qZA(),n.TgZ(11,"ion-col",34),n.TgZ(12,"h1",35),n._uU(13),n.qZA(),n.qZA(),n.TgZ(14,"ion-col",36),n.TgZ(15,"ion-button",37),n.NdJ("click",function(){const e=n.CHM(t).$implicit;return n.oxw().sumar(e)}),n._uU(16,"+ "),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&t){const t=e.$implicit,i=n.oxw();n.xp6(5),n.hij(" ",t.modelo," "),n.xp6(1),n.Q6J("ngIf",1==i.id),n.xp6(7),n.hij(" ",t.cantidad,"")}}let u=(()=>{class t{constructor(t,e){this.modalCtrl=t,this.api=e,this.tipoEquipo={tipo:""},this.modelos=[],this.modelosAll=[],this.modelosAgregados=[],this.busquedaFilter="",this.psiFilter="",this.voltajeFilter=""}ngOnInit(){return(0,o.mG)(this,void 0,void 0,function*(){this.modelos=yield this.api.getModelosByTipoEquipo({idTipoEquipo:this.id}),this.modelos=this.modelos.map(t=>Object.assign(Object.assign({},t),{cantidad:0})),this.modelosAll=this.modelos.filter(t=>t.modelo.includes("")),this.tipoEquipo=yield this.api.getTipoEquipoById({id:this.id}),this.modelosAgregados=yield this.api.getDBItem("modelos"),this.modelosAgregados.forEach(t=>{t.idTipoEquipo==this.id&&this.upsert(this.modelos,t)})})}dismissModal(){return(0,o.mG)(this,void 0,void 0,function*(){this.api.setDBItem("modelos",this.modelosAgregados),yield this.modalCtrl.dismiss()})}filter(t){return(0,o.mG)(this,void 0,void 0,function*(){"BUSQUEDA"==t.name&&(this.busquedaFilter=t.value),"PSI"==t.name&&(this.psiFilter=t.value),"VOLTAJE"==t.name&&(this.voltajeFilter=t.value),this.modelos=this.modelosAll.filter(t=>t.modelo.includes(this.busquedaFilter)&&t.PSI.includes(this.psiFilter)&&t.VOLTAJE.includes(this.voltajeFilter)),console.log(this.modelos)})}sumar(t){t.cantidad++,this.upsert(this.modelosAgregados,t)}restar(t){0!=t.cantidad&&(t.cantidad--,this.upsert(this.modelosAgregados,t))}upsert(t,e){const i=t.findIndex(t=>t.id===e.id);0==e.cantidad?t.splice(i,1):i>-1?t[i]=e:t.push(e)}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(r.IN),n.Y36(s.r))},t.\u0275cmp=n.Xpm({type:t,selectors:[["ng-component"]],decls:18,vars:3,consts:[[2,"--background","rgba(255, 255, 255, 0.85)","border-bottom","#4C7176 solid","border-width","3px","border-top","solid 5px #4C7176","--min-height","35px"],["slot","end"],[3,"click"],[2,"--min-height","35px","--background","rgba(255, 255, 255, 0.85)","border-bottom","#4C7176 solid","border-width","3px","border-top","solid 5px #4C7176"],[2,"text-align","-webkit-center"],[1,"roundedInput",2,"width","90%","--min-height","16px"],["name","BUSQUEDA","clearInput","true","type","text","placeholder","Busqueda",1,"roundedInput",3,"input"],["style","width:90%;",4,"ngIf"],["fullscreen",""],[2,"--background","#E6E7E7"],[2,"text-align","justify","line-height","1","font-size","14px"],[2,"margin-top","20px","--background","#E6E7E7","color","#59595C","border","solid #4C7176 1px"],["style","--background: #E6E7E7; color:#59595C; border-bottom: dashed #4C7176 1px;",4,"ngFor","ngForOf"],[2,"width","90%"],[2,"text-align","center"],[1,"roundedInput"],["position","floating"],["name","PSI","clearInput","true",3,"ionChange"],["value",""],["value","87"],["value","125"],["value","130"],["value","160"],["value","174"],["value","217"],["name","VOLTAJE","clearInput","true",3,"ionChange"],["value","Trivoltaje (208/240/460 VAC 60HZ)"],["value","240 VAC 60HZ"],["value","460 VAC 60HZ"],[2,"--background","#E6E7E7","color","#59595C","border-bottom","dashed #4C7176 1px"],[2,"color","#4C7176","font-size","20px"],[4,"ngIf"],["size-xs","4",2,"text-align","right"],[2,"--border-radius","25px","--padding","0 0px","--background","#59595C","font-size","15px",3,"click"],["size-xs","4",2,"text-align","center"],[2,"--border-radius","25px","--padding","0 25px","--background","#59595C","font-size","20px"],["size-xs","4",2,"text-align","left"],[2,"--border-radius","25px","--padding","0 0px","--background","#4C7176","font-size","15px",3,"click"],[2,"text-align","right"],[2,"color","#4C7176"],[2,"text-align","left"]],template:function(t,e){1&t&&(n.TgZ(0,"ion-header"),n.TgZ(1,"ion-toolbar",0),n.TgZ(2,"ion-title"),n._uU(3),n.qZA(),n.TgZ(4,"ion-buttons",1),n.TgZ(5,"ion-button",2),n.NdJ("click",function(){return e.dismissModal()}),n._uU(6,"X"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(7,"ion-toolbar",3),n.TgZ(8,"div",4),n.TgZ(9,"ion-item",5),n.TgZ(10,"ion-input",6),n.NdJ("input",function(t){return e.filter(t.target)}),n.qZA(),n.qZA(),n.qZA(),n.TgZ(11,"div",4),n.YNc(12,d,34,0,"ion-grid",7),n.qZA(),n.qZA(),n.qZA(),n.TgZ(13,"ion-content",8),n.TgZ(14,"ion-card",9),n.TgZ(15,"ion-card-content",10),n.TgZ(16,"div",11),n.YNc(17,c,17,3,"ion-item",12),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&t&&(n.xp6(3),n.Oqu(e.tipoEquipo.tipo.toUpperCase()),n.xp6(9),n.Q6J("ngIf",1==e.id),n.xp6(5),n.Q6J("ngForOf",e.modelos))},directives:[r.Gu,r.sr,r.wd,r.Sm,r.YG,r.Ie,r.pK,r.j9,a.O5,r.W2,r.PM,r.FN,a.sg,r.jY,r.Nd,r.wI,r.Q$,r.t9,r.QI,r.n0],styles:["ion-content[_ngcontent-%COMP%]{--background:url(/assets/img/login/background.png) no-repeat center center/cover}h1[_ngcontent-%COMP%]{font-size:larger}.roundedInput[_ngcontent-%COMP%]{--border-color:var(--ion-color-medium-shade);margin-top:5px;--border-radius:25px;--border-width:2px;--box-shadow:0px gray;--color:#000;--highlight-height:0;--background:#0000}ion-col[_ngcontent-%COMP%], ion-grid[_ngcontent-%COMP%]{padding:0}ion-item[_ngcontent-%COMP%]{margin:3px}ion-card-content[_ngcontent-%COMP%]{padding-top:3px}.item-native[_ngcontent-%COMP%]{min-height:25px!important;height:25px!important}"]}),t})()}}]);